<template>
  <Grid column center-i center-j :width="mobile ? 80 : 35">
    <form style="width: 100%" @submit.prevent="register(form)">
      <Input label="–í–∞—à–µ –ò–º—è" placeholder="–ì–æ—à–∞ –ö—É—Ü—É–Ω—è" required type="text" name @input="set('name', $event)" />
      <Input label="email –∞–¥—Ä–µ—Å—Å" placeholder="kitkat230190@milo.fut" required type="email" @input="set('email', $event)" />
      <Input label="–ü–∞—Ä–æ–ª—å" placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å" required type="password" @input="set('password', $event)" />

      <Button my="1" submit>–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</Button>
      <Grid py="1" center-j>
        –£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <nuxt-link to="/login" style="margin-left: 0.2rem">–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</nuxt-link>
      </Grid>
    </form>
  </Grid>
</template>

<script>
  import { mapActions, mapState } from 'vuex';

  import Grid from '~/components/Atoms/Grid';
  import Input from '~/components/Atoms/Input';
  import Button from '~/components/Atoms/Button';

  export default {
    name: 'Account',
    components: { Button, Input, Grid },

    data: () => ({
      form: {
        name: '',
        email: '',
        password: '',
      },
    }),

    head() {
      return {
        title: 'Quiz Freeze üß© | Registration',
      };
    },

    computed: {
      ...mapState(['mobile']),
    },

    methods: {
      ...mapActions('user', ['register']),

      set(name, value) {
        this.form[name] = value.toString();
      },

      registration() {
        this.register(this.form);
      },
    },
  };
</script>
